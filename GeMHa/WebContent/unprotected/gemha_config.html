<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    	               "http://www.w3.org/TR/html4/loose.dtd">

<html>
  <head>
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	    <link rel="stylesheet" href="../css/main.css"/>
	    <link rel="stylesheet" href="../css/lists.css"/>

		<!-- This accesses jQuery dynamically from jQuery's CDN (Content Delivery Network), provided by MediaTemple
			 There are also jQuery CDNs available from Google and Microsoft.
			 Got this info @ the main download page on http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery
		-->
		<script src="http://code.jquery.com/jquery-1.9.0.min.js"></script>
		<script type="text/JavaScript" src="../scripts/activate_lists.js"></script>
		<script type="text/JavaScript" src="../scripts/gemha_config.js"></script>
		<script type="text/JavaScript" src="../scripts/gemha_config_validate.js"></script>
<!-- 
		<script type="text/JavaScript" src="../scripts/gemha_config_validate.js"></script>
 -->
    	<title>GeMHA Config Generator</title>
    	
 </head>
  <body onload='addListeners(); $("#inputMedium").trigger("change"); $("#processingTarget").trigger("change"); $("#outputMedium").trigger("change"); $("#auditing").trigger("change");'>
    <h2>GeMHa Config Generator</h2>
    <h3>( Template <select id="template" onchange="changeTemplate()">
						<option value="none" 			selected>None</option>
						<option value="createTemplateCtoF"		>CSVFile to XMLFile</option>
						<option value="createTemplateCtoDbtoF" 	>CSVFile to DbInsert to XMLFile</option>
						<option value="createTemplateFtoFtoQ" 	>XMLFile to CSVFile to Queue</option>
						<option value="createTemplateFtoStoQ" 	>XMLFile to Socket to Queue</option>
						<option value="createTemplateStoDbtoH" 	>Socket to DbSelect to HTTP Server</option>
		</select>
		)
	</h3>

  <form id="configForm" class="form-1" method="POST">
<!-- -------------------------------------- Input -------------------------------------------- -->    
    <fieldset>
    	<legend>Input</legend>
    	<table>
    		<tr>
				<td><label for="inputFormat">Input Format: </label></td>
				<td><select id="inputFormat" name="DataFormat" onChange="changeInputFormat()">
						<option value="xml" selected>XML</option>
						<option value="csv"			>CSV</option>
					</select>
				</td>
				<td><label for="inputLimit">Input Limit: </label></td>
				<td><input type="text" id="inputLimit" name="InputLimit" class="GeMHaToBeValidated" GeMHa_Field_isValid="true" onKeyUp="validateNumericVal(this.id); checkCanGenerate()" align="right"></td>
			</tr>
    		<tr>
				<td><label for="inputSchemaDefFileName">Schema Def: </label></td>
				<td><input type="text" id="inputSchemaDefFileName" name="SchemaDefinitionFileName" align="right"></td>
			</tr>
    		<tr>
				<td><label for="inputDataContractChecking">Data Contract Checking: </label></td>
				<td><select id="inputDataContractChecking" name="inputDataContractChecking" onChange="changeInputDataContractChecking()">
						<option value="none" selected>None</option>
						<option value="shutdown"     >Shut Down</option>
						<option value="discard"		 >Discard Message</option>
					</select>
				</td>
				<td></td>
				<td></td>
			</tr>
		</table>
    </fieldset>
    <div id="inputDataContractCheckingDiv" style="display:none">
	    <fieldset>
	    	<legend>Data Contract Checking Settings</legend>
	    	<table>
	    		<tr>
					<td><label for="inputDataContractName">Contract Name: </label></td>
					<td><input type="text" id="inputDataContractName" name="inputDataContractName" align="right"></td>
					<td><label for="inputDataContractLocation">Location in Message: </label></td>
					<td><input type="text" id="inputDataContractLocation" name="inputDataContractLocation"></td>
				</tr>
			</table>
	    </fieldset>
	</div>
    <br>
<!-- ----------------------------------- Input Media ----------------------------------------- -->    
    <fieldset class="inputMedia">
    	<legend><select id="inputMedium" name="inputMedium" onchange="changeInputMedium()">
						<option value="file" selected>File Input</option>
						<option value="queue"		 >Queue Input</option>
						<option value="socket"		 >Socket Input</option>
				</select>
		</legend>
		<div id="inputFileDiv">
	    	<table>
	    		<tr>
					<td><label for="inputFileName">Input File: </label></td>
					<td><input type="text" id="inputFileName" name="inputFileName" class="locallyRequired" GeMHa_Field_isValid="false" align="right"></td>
					<td><label for="sortFilteredFileNames">Sort on File Name: </label></td>
					<td><input type="checkbox" id="sortFilteredFileNames" name="SortFilteredFileNames" checked></td>
				</tr>
			</table>
		    <br>
			<div id="inputFileCSV" style="display:none">
			    <fieldset>
			    	<legend>CSV File Input Settings</legend>
			    	<table>
			    		<tr>
							<td><label for="inputFieldSeparator">Field Separator: </label></td>
							<td><input type="text" id="inputFieldSeparator" name="FieldSeparator" class="locallyRequired" GeMHa_Field_isValid="true" align="right"></td>
							<td><label for="inputNumRecordsToSkip">Skip: </label></td>
							<td><input type="text" id="inputNumRecordsToSkip" name="NumRecordsToSkip" class="GeMHaToBeValidated" GeMHa_Field_isValid="true" onKeyUp="validateNumericVal(this.id); checkCanGenerate()" align="right"></td>
							<td><label > records</label></td>
						</tr>
			    		<tr>
							<td><label for="inputTargetXMLFormat">Target XML Format: </label></td>
							<td><select id="inputTargetXMLFormat" name="XMLFormat" onChange="changeTargetXMLFormat()">
									<option value="select" selected>SELECT</option>
									<option value="insert" 		   >INSERT</option>
									<option value="update"		   >UPDATE</option>
									<option value="delete"		   >DELETE</option>
								</select>
							</td>
							<td></td>
							<td></td>
						</tr>
					</table>
			    </fieldset>
			    <br>
			    <div id="inputFileCSVInsertDiv" style="display:none">
				    <fieldset>
				    	<legend>CSV File Input INSERT Settings</legend>
				    	<table>
				    		<tr>
								<td><label for="inputActionOnError">Action on Error: </label></td>
								<td><select id="inputActionOnError" name="Action_On_Error">
										<option value="respond" selected>Respond to Sender</option>
										<option value="exception"		>Throw Exception</option>
									</select>
								</td>
								<td></td>
								<td></td>
							</tr>
				    		<tr>
								<td><label for="inputPreparedStatementName">Prepared Statement: </label></td>
								<td><input type="text" id="inputPreparedStatementName" name="Prepared_Statement_Name" align="right"></td>
								<td><label for="immediateCommit">Immediate Commit: </label></td>
								<td><input type="checkbox" id="immediateCommit" name="Immediate_Commit" checked></td>
							</tr>
						</table>
				    </fieldset>
				    <br>
				</div>
			    <fieldset>
			    	<legend>CSV File Column Order</legend>
			    	<table >
		    		<tr>
						<td colspan="2"><div id="columnOrderDiv" class="scrollableLong">
				    						<ol id="columnOrderList" class="locallyRequired" GeMHa_Field_isValid="false"></ol>
				    					</div>
				    	</td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="inputNewColName">New Column: </label></td>
						<td><input type="text" id="inputNewColName" name="inputNewColName" align="right"></td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td><div id="columnOrderListButtons">
								<input id="columnOrderListAdd" type="button" value="Add"></input>
								<input id="columnOrderListUp" type="button" value="Up" disabled></input>
								<input id="columnOrderListDown" type="button" value="Down" disabled></input>
								<input id="columnOrderListRemove" type="button" value="Remove" disabled></input>
							</div>
						</td>
					</tr>
						</table>
			    </fieldset>
			</div>
		</div>
		<div id="inputQueueDiv" style="display:none">
		    	<table>
		    		<tr>
						<td><label for="inputURLJMSServer">Broker URL: </label></td>
						<td><input type="text" id="inputURLJMSServer" name="UrlJMSserver" class="locallyRequired" GeMHa_Field_isValid="true" align="right"></td>
						<td><label for="inputQueueName">Queue Name: </label></td>
						<td><input type="text" id="inputQueueName" name="QueueName" class="locallyRequired" GeMHa_Field_isValid="true" align="right"></td>
					</tr>
		    		<tr>
						<td><label for="inputMilliSecondsBeforeQuiet">Go Quiet In (ms): </label></td>
						<td><input type="text" id="inputMilliSecondsBeforeQuiet" name="MilliSecondsBeforeQuiet" class="GeMHaToBeValidated" GeMHa_Field_isValid="true" onKeyUp="validateNumericVal(this.id); checkCanGenerate()" align="right"></td>
						<td></td>
						<td></td>
					</tr>
				</table>
		</div>
		<div id="inputSocketDiv" style="display:none">
		    	<table>
		    		<tr>
						<td><label for="inputPortNumber">Port: </label></td>
						<td><input type="text" id="inputPortNumber" name="PortNumber" class="GeMHaToBeValidated locallyRequired"  GeMHa_Field_isValid="true" onKeyUp="validateNumericVal(this.id); checkCanGenerate()" align="right"></td>
						<td></td>
						<td></td>
					</tr>
				</table>
		</div>
	</fieldset>
    <br>
<!-- ------------------------------------- Processing ------------------------------------------- -->    
    <fieldset>
    	<legend><select id="processingTarget" name="MessageProcessingClassName" onChange="changeProcessingTarget()">
						<option value="gemha.servers.ProcessMessageForFile" selected>Process to File</option>
						<option value="gemha.servers.ProcessMessageForDb"			>Process to Database</option>
						<option value="gemha.servers.ProcessMessageForSocket"		>Process to Socket</option>
						<option value="gemha.servers.ProcessMessageDoNothing"		>No Processing</option>
		</select></legend>
    	<table>
    		<tr>
				<td><label for="processingConfigFile">Config File: </label></td>
				<td><input type="text" id="processingConfigFile" name="MessageProcessingSettingsFileName" align="right"></td>
			</tr>
		</table>
	    <fieldset class="processingElements">
	    	<legend>Elements to Mind</legend>
	    	<table >
	   		<tr>
				<td colspan="2"><div class="scrollableLong">
		    						<ul id="mindElementList"></ul>
		    					</div>
		    	</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td><label for="inputNewMindElement">New Element: </label></td>
				<td><input type="text" id="inputNewMindElement" name="inputNewMindElement" align="right"></td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td><div id="mindElementListButtons">
						<input id="mindElementListAdd" type="button" value="Add"></input>
						<input id="mindElementListUp" type="button" value="Up" disabled></input>
						<input id="mindElementListDown" type="button" value="Down" disabled></input>
						<input id="mindElementListRemove" type="button" value="Remove" disabled></input>
					</div>
				</td>
			</tr>
				</table>
	    </fieldset>
	    <fieldset class="processingElements">
	    	<legend>Elements for Processing</legend>
	    	<table >
		   		<tr>
					<td colspan="2"><div class="scrollableLong">
			    						<ul id="sendElementList" class="locallyRequired" GeMHa_Field_isValid="false"></ul>
			    					</div>
			    	</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td><label for="inputNewSendElement">New Element: </label></td>
					<td><input type="text" id="inputNewSendElement" name="inputNewSendElement" align="right"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td><div id="sendElementListButtons">
							<input id="sendElementListAdd" type="button" value="Add"></input>
							<input id="sendElementListUp" type="button" value="Up" disabled></input>
							<input id="sendElementListDown" type="button" value="Down" disabled></input>
							<input id="sendElementListRemove" type="button" value="Remove" disabled></input>
						</div>
					</td>
				</tr>
			</table>
	    </fieldset>
    </fieldset>
    <br>
<!-- ----------------------------------- Output Media ----------------------------------------- -->    
    <fieldset class="outputMedia">
    	<legend><select id="outputMedium" name="outputMedium" onchange="changeOutputMedium()">
						<option value="none" selected>No Output</option>
						<option value="file" 		 >Output to File</option>
						<option value="queue"		 >Output to Queue</option>
						<option value="HTTP"		 >Output to HTTP</option>
				</select>
		</legend>
		<div id="outputFileDiv" style="display:none">
	    	<table>
	    		<tr>
					<td><label for="outputFileName">Filename Template: </label></td>
					<td><input type="text" id="outputFileName" name="FileNameTemplate" class="locallyRequired" align="right"></td>
				</tr>
			</table>
		</div>
		<div id="outputQueueDiv" style="display:none">
		    	<table>
		    		<tr>
						<td><label for="outputURLJMSServer">Broker URL: </label></td>
						<td><input type="text" id="outputURLJMSServer" name="UrlJMSserver" class="locallyRequired" align="right"></td>
						<td><label for="outputQueueName">Queue Name: </label></td>
						<td><input type="text" id="outputQueueName" name="QueueName" class="locallyRequired" align="right"></td>
					</tr>
		    		<tr>
						<td><label for="replyToQueueName">ReplyToQueue Name: </label></td>
						<td><input type="text" id="replyToQueueName" name="ReplyToQueueName" align="right"></td>
						<td></td>
						<td></td>
					</tr>
				</table>
		</div>
		<div id="outputHTTPDiv" style="display:none">
		    	<table>
		    		<tr>
						<td><label for="outputHTTPServerUrl">Server URL: </label></td>
						<td><input type="text" id="outputHTTPServerUrl" name="ServerUrl" class="locallyRequired" align="right"></td>
						<td><label for="outputEndpointName">End Point: </label></td>
						<td><input type="text" id="outputEndpointName" name="EndPointName" class="locallyRequired" align="right"></td>
					</tr>
		    		<tr>
						<td><label for="HTTPWithBackoff">With Backoff: </label></td>
						<td><input type="checkbox" id="HTTPWithBackoff" name="HTTPWithBackoff" checked></td>
					</tr>
				</table>
		</div>
	</fieldset>
    <br>
<!-- ----------------------------------- Auditing ----------------------------------------- -->    
    <fieldset>
    	<legend><select id="auditing" onChange="changeAuditing()">
						<option value="yes" selected>Auditing</option>
						<option value="no"			>No Auditing</option>
		</select></legend>
		<div id="auditingDiv">
		   	<table>
		   		<tr>
					<td><label for="actionOnError">On Missing Keys: </label></td>
					<td><select id="actionOnError" name="ActionOnError">
							<option value="none" selected>Ignore</option>
							<option value="shutdown"     >Shut Down</option>
							<option value="discard"		 >Discard Message</option>
						</select>
					</td>
					<td></td>
					<td></td>
				</tr>
		   		<tr>
					<td><label for="auditKeysSeparator">Keys Separator: </label></td>
					<td><input type="text" id="auditKeysSeparator" name="AuditKeysSeparator" align="right"></td>
					<td><label for="errorFileName">Error Filename Template: </label></td>
					<td><input type="text" id="errorFileName" name="ErrorFileName" align="right"></td>
				</tr>
			</table>
		    <fieldset>
		    	<legend>Audit Keys</legend>
		    	<table >
			   		<tr>
						<td colspan="2"><div class="scrollableLong">
				    						<ul id="auditElementList" class="locallyRequired" GeMHa_Field_isValid="false"></ul>
				    					</div>
				    	</td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td><label for="inputNewAuditElement">New Element: </label></td>
						<td><input type="text" id="inputNewAuditElement" name="inputNewAuditElement" align="right"></td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td><div id="auditElementListButtons">
								<input id="auditElementListAdd" type="button" value="Add"></input>
								<input id="auditElementListUp" type="button" value="Up" disabled></input>
								<input id="auditElementListDown" type="button" value="Down" disabled></input>
								<input id="auditElementListRemove" type="button" value="Remove" disabled></input>
							</div>
						</td>
					</tr>
				</table>
		    </fieldset>
		</div>
    </fieldset>
    <br>
<!-- ------------------------------------- Logging ------------------------------------------- -->    
    <fieldset>
    	<legend>Logging</legend>
    	<table>
    		<tr>
				<td><label for="environmentLoggingLevel">Environment Level: </label></td>
				<td><select id="environmentLoggingLevel" name="EnvironmentLoggingLevel" onchange="changeEnvironmentLoggingLevel()">
						<option value="Development" selected>Development</option>
						<option value="Test"     			>Test</option>
						<option value="Production"		 	>Production</option>
						<option value="Ignore"		 		>Ignore</option>
					</select>
				</td>
				<td><label for="generalLoggingLevel">General Level: </label></td>
				<td><select id="generalLoggingLevel" name="GeneralLoggingLevel" onchange="changeGeneralLoggingLevel()">
						<option value="Ignore" selected>Ignore</option>
						<option value="SEVERE"     	   >SEVERE</option>
						<option value="WARNING"		   >WARNING</option>
						<option value="INFO"		   >INFO</option>
						<option value="CONFIG"		   >CONFIG</option>
						<option value="FINE"		   >FINE</option>
						<option value="FINER"		   >FINER</option>
						<option value="FINEST"		   >FINEST</option>
					</select>
				</td>
			</tr>
    		<tr>
				<td><label for="LogFileDir">Directory: </label></td>
				<td><input type="text" id="logFileDir" name="LogFileDir" align="right"></td>
			</tr>
    		<tr>
				<td><label for="logFileNameTemplate">Log Filename: </label></td>
				<td><input type="text" id="logFileNameTemplate" name="LogFileNameTemplate" align="right"></td>
				<td><label for="shutDownLogFileNameTemplate">ShutDown Log Filename: </label></td>
				<td><input type="text" id="shutDownLogFileNameTemplate" name="ShutDownLogFileNameTemplate" align="right"></td>
			</tr>
		</table>
    </fieldset>
    <div id="responseMessage" onClick="disappear(this)"></div>
    <br>
	<div class="taskbar-1">
    	<p class="submit">
      		<input disabled id="generate" type="button" value="Generate" onClick="showXMLInWindow()"></input>
      	</p>
    </div>
   </form>
  </body>
</html> 
